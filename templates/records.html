<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin - Attendance Records</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container py-4">

    <!-- Header -->
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-3">
      <h3 class="mb-3 mb-md-0">ðŸ“Š Attendance Records</h3>
      <div class="d-flex flex-column flex-sm-row gap-2 w-100 w-md-auto">
        <a href="/download" class="btn btn-primary">ðŸ“¥ Download All</a>
        <a href="/logout" class="btn btn-danger">ðŸšª Logout</a>
      </div>
    </div>

    <!-- Download by Company -->
    <form method="POST" action="/download_company" class="row g-2 mb-3">
      <div class="col-12 col-md-6">
        <input type="text" name="company" placeholder="Enter company name" class="form-control" required>
      </div>
      <div class="col-12 col-md-3">
        <button type="submit" class="btn btn-success w-100">ðŸ“¥ Download by Company</button>
      </div>
    </form>

    <!-- Table -->
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle">
        <thead class="table-dark">
          <tr>
            <th>Name</th>
            <th>Roll No</th>
            <th>Course</th>
            <th>Section</th>
            <th>Date</th>
            <th>Company</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for row in records %}
          <tr>
            <td>{{ row["name"] }}</td>
            <td>{{ row["roll"] }}</td>
            <td>{{ row["course"] }}</td>
            <td>{{ row["section"] }}</td>
            <td>{{ row["date"] }}</td>
            <td>{{ row["company"] }}</td>
            <td>
              {% if row["status"] == "Present" %}
                <span class="badge bg-success">Present</span>
              {% else %}
                <span class="badge bg-danger">Absent</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

  </div>

</body>
</html>
