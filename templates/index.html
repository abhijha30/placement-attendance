<!DOCTYPE html>
<html>
<head>
    <title>Placement Attendance</title>
    <style>
        table, th, td { border: 1px solid black; border-collapse: collapse; padding: 8px; }
        body { font-family: Arial, sans-serif; margin: 20px; }
    </style>
</head>
<body>
    <h2>Placement Candidate Attendance</h2>

    <form method="POST" action="/submit">
        <label>Name:</label><br>
        <input type="text" name="name" required><br><br>

        <label>Roll No:</label><br>
        <input type="text" name="roll" required><br><br>

        <label>Date:</label><br>
        <input type="date" name="date" required><br><br>

        <label>Company / Drive Name:</label><br>
        <input type="text" name="company" required><br><br>

        <label>Status:</label><br>
        <select name="status" required>
            <option value="Present">Present</option>
            <option value="Absent">Absent</option>
        </select><br><br>

        <button type="submit">Submit Attendance</button>
    </form>

    <br><br>
    <a href="/download">ðŸ“¥ Download Attendance Excel</a>

    <h3>ðŸ”Ž Filter Attendance Records</h3>
    <form method="POST" action="/">
        <label>Filter by Company:</label>
        <input type="text" name="filter_company">
        <label>Filter by Date:</label>
        <input type="date" name="filter_date">
        <button type="submit">Apply Filter</button>
    </form>

    <h3>ðŸ“Š Current Attendance Records</h3>
    <table>
        <tr>
            <th>Name</th><th>Roll No</th><th>Date</th><th>Company</th><th>Status</th>
        </tr>
        {% for row in records %}
        <tr>
            <td>{{ row["Name"] }}</td>
            <td>{{ row["Roll No"] }}</td>
            <td>{{ row["Date"] }}</td>
            <td>{{ row["Company"] }}</td>
            <td>{{ row["Status"] }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
